2025-10-26 00:00:14 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 16740 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:00:14 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:00:14 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:00:21 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.219 seconds (process running for 8.596)
2025-10-26 00:00:38 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:00:39 [http-nio-8090-exec-2] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:02:10 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 7900 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:02:10 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:02:10 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:02:18 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.294 seconds (process running for 8.671)
2025-10-26 00:02:27 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:02:29 [http-nio-8090-exec-1] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:04:21 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 1464 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:04:21 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:04:21 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:04:28 [main] INFO  c.a.f.service.ChatBotServiceImpl - Configurando la API key para el cliente de Gemini...
2025-10-26 00:04:28 [main] ERROR c.a.f.service.ChatBotServiceImpl - Error fatal al inicializar el cliente de Gemini. El ChatBot no funcionará.
java.lang.IllegalArgumentException: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
	at com.google.genai.ApiClient.<init>(ApiClient.java:56)
	at com.google.genai.HttpApiClient.<init>(HttpApiClient.java:42)
	at com.google.genai.Client.<init>(Client.java:273)
	at com.google.genai.Client.<init>(Client.java:171)
	at com.app.financiera.service.ChatBotServiceImpl.inicializarClienteGemini(ChatBotServiceImpl.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1818)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.app.financiera.FinancieraApplication.main(FinancieraApplication.java:10)
Caused by: java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:233)
	at java.base/java.util.Optional.of(Optional.java:113)
	at com.google.genai.ApiClient.<init>(ApiClient.java:54)
	... 43 common frames omitted
2025-10-26 00:04:29 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.326 seconds (process running for 8.675)
2025-10-26 00:08:41 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 17404 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:08:41 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:08:41 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:08:47 [main] INFO  c.a.f.service.ChatBotServiceImpl - Configurando la API key para el cliente de Gemini...
2025-10-26 00:08:47 [main] ERROR c.a.f.service.ChatBotServiceImpl - Error fatal al inicializar el cliente de Gemini. El ChatBot no funcionará.
java.lang.IllegalArgumentException: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
	at com.google.genai.ApiClient.<init>(ApiClient.java:56)
	at com.google.genai.HttpApiClient.<init>(HttpApiClient.java:42)
	at com.google.genai.Client.<init>(Client.java:273)
	at com.google.genai.Client.<init>(Client.java:171)
	at com.app.financiera.service.ChatBotServiceImpl.inicializarClienteGemini(ChatBotServiceImpl.java:58)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1818)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1760)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.app.financiera.FinancieraApplication.main(FinancieraApplication.java:10)
Caused by: java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:233)
	at java.base/java.util.Optional.of(Optional.java:113)
	at com.google.genai.ApiClient.<init>(ApiClient.java:54)
	... 43 common frames omitted
2025-10-26 00:08:48 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 7.555 seconds (process running for 7.909)
2025-10-26 00:14:26 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 11348 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:14:26 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:14:26 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:14:34 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.332 seconds (process running for 8.713)
2025-10-26 00:14:45 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:14:46 [http-nio-8090-exec-1] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:16:40 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 17652 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:16:40 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:16:40 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:16:48 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.217 seconds (process running for 8.64)
2025-10-26 00:16:59 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:17:00 [http-nio-8090-exec-1] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:20:24 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 18284 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:20:24 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:20:24 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:20:31 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 7.743 seconds (process running for 8.224)
2025-10-26 00:20:44 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:20:45 [http-nio-8090-exec-1] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:22:13 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 5288 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:22:13 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:22:13 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:22:21 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 9.193 seconds (process running for 9.533)
2025-10-26 00:22:29 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 6
2025-10-26 00:22:29 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 6
2025-10-26 00:22:29 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 6
2025-10-26 00:22:29 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 6
2025-10-26 00:22:29 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 6
2025-10-26 00:22:29 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 6
2025-10-26 00:22:30 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 6
2025-10-26 00:22:30 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Se obtuvieron 5 aportes para usuario ID 6
2025-10-26 00:22:30 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 6
2025-10-26 00:22:31 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 6
2025-10-26 00:23:02 [http-nio-8090-exec-4] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:23:03 [http-nio-8090-exec-4] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:26:54 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 2072 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:26:54 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:26:54 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:27:01 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.221 seconds (process running for 8.576)
2025-10-26 00:27:07 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:27:09 [http-nio-8090-exec-2] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: API key must either be provided or set in the environment variable GOOGLE_API_KEY.
2025-10-26 00:28:30 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 11600 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:28:30 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:28:30 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:28:38 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.781 seconds (process running for 9.203)
2025-10-26 00:28:39 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:28:41 [http-nio-8090-exec-2] ERROR c.a.f.service.ChatBotServiceImpl - Error generando respuesta con Gemini: 404 Not Found. models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-10-26 00:30:24 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 14956 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:30:24 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:30:24 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:30:31 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 7.709 seconds (process running for 8.073)
2025-10-26 00:30:44 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 6
2025-10-26 00:30:44 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 6
2025-10-26 00:30:44 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 6
2025-10-26 00:30:44 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 6
2025-10-26 00:30:44 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 6
2025-10-26 00:30:44 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Se obtuvieron 5 aportes para usuario ID 6
2025-10-26 00:30:45 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 6
2025-10-26 00:30:45 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 6
2025-10-26 00:30:45 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 6
2025-10-26 00:30:45 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 6
2025-10-26 00:30:49 [http-nio-8090-exec-9] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:31:08 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:31:16 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 6
2025-10-26 00:31:16 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 6
2025-10-26 00:31:16 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 6
2025-10-26 00:31:16 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 6
2025-10-26 00:31:16 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 6
2025-10-26 00:31:16 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 6
2025-10-26 00:31:16 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 6
2025-10-26 00:31:16 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Se obtuvieron 5 aportes para usuario ID 6
2025-10-26 00:31:17 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 6
2025-10-26 00:31:17 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 6
2025-10-26 00:31:24 [http-nio-8090-exec-10] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:31:42 [http-nio-8090-exec-5] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:32:07 [http-nio-8090-exec-8] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:32:21 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:32:52 [http-nio-8090-exec-4] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:32:54 [http-nio-8090-exec-10] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:32:54 [http-nio-8090-exec-4] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a soporte@sumaqseguros.com: Authentication failed
2025-10-26 00:32:55 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:32:55 [http-nio-8090-exec-5] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:32:55 [http-nio-8090-exec-6] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:32:57 [http-nio-8090-exec-4] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a orlando@oficial.com: Authentication failed
2025-10-26 00:32:57 [http-nio-8090-exec-4] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:32:57 [http-nio-8090-exec-10] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a soporte@sumaqseguros.com: Authentication failed
2025-10-26 00:32:57 [http-nio-8090-exec-2] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a soporte@sumaqseguros.com: Authentication failed
2025-10-26 00:32:59 [http-nio-8090-exec-10] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a orlando@oficial.com: Authentication failed
2025-10-26 00:32:59 [http-nio-8090-exec-10] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:32:59 [http-nio-8090-exec-5] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a soporte@sumaqseguros.com: Authentication failed
2025-10-26 00:32:59 [http-nio-8090-exec-2] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a orlando@oficial.com: Authentication failed
2025-10-26 00:32:59 [http-nio-8090-exec-2] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:33:01 [http-nio-8090-exec-5] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a orlando@oficial.com: Authentication failed
2025-10-26 00:33:01 [http-nio-8090-exec-5] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:33:01 [http-nio-8090-exec-6] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a soporte@sumaqseguros.com: Authentication failed
2025-10-26 00:33:04 [http-nio-8090-exec-6] ERROR c.a.f.service.EmailServiceImpl - Error al enviar correo a orlando@oficial.com: Authentication failed
2025-10-26 00:33:04 [http-nio-8090-exec-6] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:37:05 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 13704 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 00:37:05 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 00:37:05 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 00:37:13 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 7.948 seconds (process running for 8.278)
2025-10-26 00:37:28 [http-nio-8090-exec-1] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:37:45 [http-nio-8090-exec-3] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:37:49 [http-nio-8090-exec-3] INFO  c.a.f.service.EmailServiceImpl - Correo enviado exitosamente a: soporte@sumaqseguros.com
2025-10-26 00:37:52 [http-nio-8090-exec-3] INFO  c.a.f.service.EmailServiceImpl - Correo enviado exitosamente a: orlando@oficial.com
2025-10-26 00:37:52 [http-nio-8090-exec-3] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:38:49 [http-nio-8090-exec-4] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:38:56 [http-nio-8090-exec-6] INFO  c.a.f.controller.PerfilController - Solicitud de perfil para usuario ID: 6
2025-10-26 00:38:56 [http-nio-8090-exec-6] INFO  c.a.f.service.PerfilServiceImpl - Obteniendo perfil del usuario ID: 6
2025-10-26 00:43:45 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:44:08 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 6
2025-10-26 00:44:08 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 6
2025-10-26 00:44:08 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 6
2025-10-26 00:44:08 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 6
2025-10-26 00:44:08 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 6
2025-10-26 00:44:08 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Se obtuvieron 5 aportes para usuario ID 6
2025-10-26 00:44:08 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 6
2025-10-26 00:44:08 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 6
2025-10-26 00:44:08 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 6
2025-10-26 00:44:09 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 6
2025-10-26 00:44:12 [http-nio-8090-exec-4] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:45:27 [http-nio-8090-exec-9] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:45:36 [http-nio-8090-exec-5] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:45:45 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:47:28 [http-nio-8090-exec-10] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:47:45 [http-nio-8090-exec-4] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:47:57 [http-nio-8090-exec-9] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:48:12 [http-nio-8090-exec-5] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:49:59 [http-nio-8090-exec-2] INFO  c.a.f.controller.ChatBotController - Solicitando asesor para usuario: 6
2025-10-26 00:50:02 [http-nio-8090-exec-2] INFO  c.a.f.service.EmailServiceImpl - Correo enviado exitosamente a: soporte@sumaqseguros.com
2025-10-26 00:50:06 [http-nio-8090-exec-2] INFO  c.a.f.service.EmailServiceImpl - Correo enviado exitosamente a: orlando@oficial.com
2025-10-26 00:50:06 [http-nio-8090-exec-2] INFO  c.a.f.service.ChatBotServiceImpl - Solicitud de asesor enviada para usuario: 6
2025-10-26 00:53:58 [http-nio-8090-exec-10] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:54:10 [http-nio-8090-exec-4] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 6
2025-10-26 00:54:26 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 6
2025-10-26 00:54:26 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 6
2025-10-26 00:54:26 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 6
2025-10-26 00:54:26 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 6
2025-10-26 00:54:26 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 6
2025-10-26 00:54:26 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 5 aportes para usuario ID 6
2025-10-26 00:54:26 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 6
2025-10-26 00:54:27 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 6
2025-10-26 00:54:27 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 6
2025-10-26 00:54:27 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 6
2025-10-26 00:54:28 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 6
2025-10-26 00:54:28 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 6
2025-10-26 00:54:28 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 6
2025-10-26 00:54:28 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 6
2025-10-26 00:54:28 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 6
2025-10-26 00:54:28 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 6
2025-10-26 00:54:28 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Se obtuvieron 5 aportes para usuario ID 6
2025-10-26 00:54:29 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 6
2025-10-26 00:54:29 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 6
2025-10-26 00:54:29 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 6
2025-10-26 01:22:39 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 15584 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 01:22:39 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 01:22:39 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 01:22:48 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 9.163 seconds (process running for 9.536)
2025-10-26 01:23:06 [http-nio-8090-exec-1] INFO  c.a.f.controller.UsuarioController - Intento de login con DNI: 12345678
2025-10-26 01:23:07 [http-nio-8090-exec-1] INFO  c.a.f.controller.UsuarioController - Login exitoso para usuario: Carlos Mendoza
2025-10-26 01:23:09 [http-nio-8090-exec-3] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 01:23:11 [http-nio-8090-exec-9] INFO  c.a.f.controller.AdminAfpController - Listando AFPs - Búsqueda: null, Estado: null
2025-10-26 01:23:17 [http-nio-8090-exec-5] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 1
2025-10-26 01:23:26 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 01:23:26 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 01:23:26 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 01:23:26 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 01:23:26 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 01:23:26 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 01:23:26 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Se obtuvieron 13 aportes para usuario ID 1
2025-10-26 01:23:26 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 01:23:27 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 01:23:27 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 01:23:33 [http-nio-8090-exec-7] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 1
2025-10-26 01:23:40 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 01:23:40 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 01:23:40 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 01:23:40 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 01:23:40 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 01:23:40 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 01:23:41 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 01:23:41 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 01:23:41 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Se obtuvieron 13 aportes para usuario ID 1
2025-10-26 01:23:41 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 01:24:00 [http-nio-8090-exec-3] INFO  c.a.f.controller.ChatBotController - Procesando mensaje del chatbot para usuario: 1
2025-10-26 01:24:09 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 01:24:09 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 01:24:09 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 01:24:09 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 01:24:09 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 01:24:09 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 01:24:09 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Se obtuvieron 13 aportes para usuario ID 1
2025-10-26 01:24:10 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 01:24:10 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 01:24:10 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 01:24:16 [http-nio-8090-exec-10] INFO  c.a.f.controller.PensionesController - Solicitando estado de pensiones para usuario: 1
2025-10-26 01:24:16 [http-nio-8090-exec-1] INFO  c.a.f.controller.PensionesController - Solicitando saldos para usuario: 1
2025-10-26 01:24:16 [http-nio-8090-exec-9] INFO  c.a.f.controller.PensionesController - Solicitando resumen de pensiones para usuario: 1
2025-10-26 01:24:16 [http-nio-8090-exec-9] INFO  c.a.f.service.PensionesServiceImpl - Generando resumen de pensiones para usuario: 1
2025-10-26 01:24:16 [http-nio-8090-exec-6] INFO  c.a.f.controller.PensionesController - Solicitando aportes para usuario: 1
2025-10-26 01:24:26 [http-nio-8090-exec-3] INFO  c.a.f.controller.PensionesController - Eliminando aporte: 13
2025-10-26 01:24:26 [http-nio-8090-exec-3] INFO  c.a.f.service.PensionesServiceImpl - Eliminando aporte: 13
2025-10-26 01:24:26 [http-nio-8090-exec-3] INFO  c.a.f.s.AportePensionServiceImpl - Eliminando aporte: 13
2025-10-26 01:24:26 [http-nio-8090-exec-3] INFO  c.a.f.s.AportePensionServiceImpl - Actualizando saldo para usuario: 1
2025-10-26 01:24:27 [http-nio-8090-exec-3] INFO  c.a.f.s.AportePensionServiceImpl - Actualizando saldo existente ID: 36
2025-10-26 01:24:27 [http-nio-8090-exec-3] INFO  c.a.f.s.AportePensionServiceImpl - Saldo actualizado exitosamente. Total: S/ 10208.0
2025-10-26 01:24:27 [http-nio-8090-exec-1] INFO  c.a.f.controller.PensionesController - Solicitando aportes para usuario: 1
2025-10-26 01:24:27 [http-nio-8090-exec-6] INFO  c.a.f.controller.PensionesController - Solicitando estado de pensiones para usuario: 1
2025-10-26 01:24:27 [http-nio-8090-exec-10] INFO  c.a.f.controller.PensionesController - Solicitando resumen de pensiones para usuario: 1
2025-10-26 01:24:27 [http-nio-8090-exec-10] INFO  c.a.f.service.PensionesServiceImpl - Generando resumen de pensiones para usuario: 1
2025-10-26 01:24:27 [http-nio-8090-exec-9] INFO  c.a.f.controller.PensionesController - Solicitando saldos para usuario: 1
2025-10-26 01:24:30 [http-nio-8090-exec-4] INFO  c.a.f.controller.SegurosController - Solicitud de pólizas para usuario: 1
2025-10-26 01:24:30 [http-nio-8090-exec-2] INFO  c.a.f.controller.SegurosController - Solicitud de pagos pendientes para usuario: 1
2025-10-26 01:24:30 [http-nio-8090-exec-8] INFO  c.a.f.controller.SegurosController - Solicitud de resumen de seguros para usuario: 1
2025-10-26 01:24:30 [http-nio-8090-exec-8] INFO  c.a.f.service.SegurosServiceImpl - Generando resumen administrativo de seguros para usuario: 1
2025-10-26 01:24:30 [http-nio-8090-exec-7] INFO  c.a.f.controller.SegurosController - Solicitud de trámites para usuario: 1
2025-10-26 01:24:39 [http-nio-8090-exec-9] INFO  c.a.f.c.ComparadorController - Solicitud de estadísticas para categoría: Vehicular
2025-10-26 01:24:39 [http-nio-8090-exec-1] INFO  c.a.f.c.ComparadorController - Solicitud de seguros por categoría: Vehicular
2025-10-26 01:24:39 [http-nio-8090-exec-9] INFO  c.a.f.service.ComparadorServiceImpl - Obteniendo estadísticas para categoría: Vehicular
2025-10-26 01:24:39 [http-nio-8090-exec-1] INFO  c.a.f.service.ComparadorServiceImpl - Obteniendo seguros por categoría: Vehicular
2025-10-26 01:24:43 [http-nio-8090-exec-2] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 01:24:43 [http-nio-8090-exec-5] INFO  c.a.f.controller.AdminAfpController - Listando AFPs - Búsqueda: null, Estado: null
2025-10-26 11:03:16 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 9456 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 11:03:16 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 11:03:16 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 11:03:23 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.09 seconds (process running for 8.514)
2025-10-26 11:03:30 [http-nio-8090-exec-2] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:03:30 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:03:34 [http-nio-8090-exec-2] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:03:35 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:04:43 [http-nio-8090-exec-3] INFO  c.a.f.c.ComparadorController - Solicitud de seguros por categoría: Vehicular
2025-10-26 11:04:43 [http-nio-8090-exec-1] INFO  c.a.f.c.ComparadorController - Solicitud de estadísticas para categoría: Vehicular
2025-10-26 11:04:43 [http-nio-8090-exec-1] INFO  c.a.f.service.ComparadorServiceImpl - Obteniendo estadísticas para categoría: Vehicular
2025-10-26 11:04:43 [http-nio-8090-exec-3] INFO  c.a.f.service.ComparadorServiceImpl - Obteniendo seguros por categoría: Vehicular
2025-10-26 11:04:43 [http-nio-8090-exec-8] INFO  c.a.f.controller.SegurosController - Solicitud de pagos pendientes para usuario: 1
2025-10-26 11:04:43 [http-nio-8090-exec-6] INFO  c.a.f.controller.SegurosController - Solicitud de pólizas para usuario: 1
2025-10-26 11:04:43 [http-nio-8090-exec-7] INFO  c.a.f.controller.SegurosController - Solicitud de trámites para usuario: 1
2025-10-26 11:04:43 [http-nio-8090-exec-5] INFO  c.a.f.controller.SegurosController - Solicitud de resumen de seguros para usuario: 1
2025-10-26 11:04:43 [http-nio-8090-exec-5] INFO  c.a.f.service.SegurosServiceImpl - Generando resumen administrativo de seguros para usuario: 1
2025-10-26 11:04:54 [http-nio-8090-exec-8] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:04:54 [http-nio-8090-exec-8] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:04:57 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 11:04:57 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 11:04:57 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 11:04:57 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 11:04:57 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 11:04:58 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 11:04:58 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 11:04:58 [http-nio-8090-exec-8] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:04:59 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 11:04:59 [http-nio-8090-exec-8] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:04:59 [http-nio-8090-exec-2] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:04:59 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:04:59 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 11:04:59 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 11:05:02 [http-nio-8090-exec-2] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:05:03 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:05:12 [http-nio-8090-exec-8] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:05:12 [http-nio-8090-exec-8] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:05:16 [http-nio-8090-exec-8] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:05:17 [http-nio-8090-exec-8] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:05:17 [http-nio-8090-exec-6] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:05:17 [http-nio-8090-exec-6] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:05:20 [http-nio-8090-exec-6] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:05:20 [http-nio-8090-exec-6] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:05:28 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 11:05:28 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 11:05:28 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 11:05:28 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 11:05:28 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 11:05:29 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 11:05:29 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 11:05:29 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 11:05:30 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 11:05:30 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 11:05:31 [http-nio-8090-exec-1] INFO  c.a.f.controller.PensionesController - Solicitando resumen de pensiones para usuario: 1
2025-10-26 11:05:31 [http-nio-8090-exec-1] INFO  c.a.f.service.PensionesServiceImpl - Generando resumen de pensiones para usuario: 1
2025-10-26 11:05:31 [http-nio-8090-exec-4] INFO  c.a.f.controller.PensionesController - Solicitando aportes para usuario: 1
2025-10-26 11:05:31 [http-nio-8090-exec-8] INFO  c.a.f.controller.PensionesController - Solicitando saldos para usuario: 1
2025-10-26 11:05:31 [http-nio-8090-exec-6] INFO  c.a.f.controller.PensionesController - Solicitando estado de pensiones para usuario: 1
2025-10-26 11:05:33 [http-nio-8090-exec-10] INFO  c.a.f.controller.SegurosController - Solicitud de resumen de seguros para usuario: 1
2025-10-26 11:05:33 [http-nio-8090-exec-10] INFO  c.a.f.service.SegurosServiceImpl - Generando resumen administrativo de seguros para usuario: 1
2025-10-26 11:05:33 [http-nio-8090-exec-9] INFO  c.a.f.controller.SegurosController - Solicitud de trámites para usuario: 1
2025-10-26 11:05:33 [http-nio-8090-exec-2] INFO  c.a.f.controller.SegurosController - Solicitud de pólizas para usuario: 1
2025-10-26 11:05:33 [http-nio-8090-exec-5] INFO  c.a.f.controller.SegurosController - Solicitud de pagos pendientes para usuario: 1
2025-10-26 11:05:36 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 11:05:36 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 11:05:36 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 11:05:36 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 11:05:36 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 11:05:36 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 11:05:36 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 11:05:36 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 11:05:37 [http-nio-8090-exec-8] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:05:37 [http-nio-8090-exec-8] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:05:37 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 11:05:37 [http-nio-8090-exec-4] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 11:05:38 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 11:05:38 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 11:05:38 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 11:05:38 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 11:05:38 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 11:05:38 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 11:05:38 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 11:05:38 [http-nio-8090-exec-1] INFO  c.a.f.controller.PensionesController - Solicitando resumen de pensiones para usuario: 1
2025-10-26 11:05:38 [http-nio-8090-exec-1] INFO  c.a.f.service.PensionesServiceImpl - Generando resumen de pensiones para usuario: 1
2025-10-26 11:05:38 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 11:05:38 [http-nio-8090-exec-6] INFO  c.a.f.controller.PensionesController - Solicitando aportes para usuario: 1
2025-10-26 11:05:39 [http-nio-8090-exec-4] INFO  c.a.f.controller.PensionesController - Solicitando saldos para usuario: 1
2025-10-26 11:05:39 [http-nio-8090-exec-2] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 11:05:39 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 11:05:39 [http-nio-8090-exec-3] INFO  c.a.f.controller.PensionesController - Solicitando estado de pensiones para usuario: 1
2025-10-26 11:05:40 [http-nio-8090-exec-10] INFO  c.a.f.controller.SegurosController - Solicitud de resumen de seguros para usuario: 1
2025-10-26 11:05:40 [http-nio-8090-exec-10] INFO  c.a.f.service.SegurosServiceImpl - Generando resumen administrativo de seguros para usuario: 1
2025-10-26 11:05:40 [http-nio-8090-exec-7] INFO  c.a.f.controller.SegurosController - Solicitud de pólizas para usuario: 1
2025-10-26 11:05:40 [http-nio-8090-exec-8] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:05:40 [http-nio-8090-exec-5] INFO  c.a.f.controller.SegurosController - Solicitud de pagos pendientes para usuario: 1
2025-10-26 11:05:41 [http-nio-8090-exec-8] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:05:41 [http-nio-8090-exec-9] INFO  c.a.f.controller.SegurosController - Solicitud de trámites para usuario: 1
2025-10-26 11:05:41 [http-nio-8090-exec-2] INFO  c.a.f.c.ComparadorController - Solicitud de seguros por categoría: Vehicular
2025-10-26 11:05:41 [http-nio-8090-exec-2] INFO  c.a.f.service.ComparadorServiceImpl - Obteniendo seguros por categoría: Vehicular
2025-10-26 11:05:41 [http-nio-8090-exec-1] INFO  c.a.f.c.ComparadorController - Solicitud de estadísticas para categoría: Vehicular
2025-10-26 11:05:41 [http-nio-8090-exec-1] INFO  c.a.f.service.ComparadorServiceImpl - Obteniendo estadísticas para categoría: Vehicular
2025-10-26 11:05:45 [http-nio-8090-exec-4] INFO  c.a.f.controller.SegurosController - Solicitud de resumen de seguros para usuario: 1
2025-10-26 11:05:45 [http-nio-8090-exec-4] INFO  c.a.f.service.SegurosServiceImpl - Generando resumen administrativo de seguros para usuario: 1
2025-10-26 11:05:45 [http-nio-8090-exec-5] INFO  c.a.f.controller.SegurosController - Solicitud de pólizas para usuario: 1
2025-10-26 11:05:45 [http-nio-8090-exec-7] INFO  c.a.f.controller.SegurosController - Solicitud de trámites para usuario: 1
2025-10-26 11:05:45 [http-nio-8090-exec-9] INFO  c.a.f.controller.SegurosController - Solicitud de pagos pendientes para usuario: 1
2025-10-26 11:05:50 [http-nio-8090-exec-1] INFO  c.a.f.controller.PensionesController - Solicitando resumen de pensiones para usuario: 1
2025-10-26 11:05:50 [http-nio-8090-exec-1] INFO  c.a.f.service.PensionesServiceImpl - Generando resumen de pensiones para usuario: 1
2025-10-26 11:05:50 [http-nio-8090-exec-2] INFO  c.a.f.controller.PensionesController - Solicitando aportes para usuario: 1
2025-10-26 11:05:50 [http-nio-8090-exec-10] INFO  c.a.f.controller.PensionesController - Solicitando saldos para usuario: 1
2025-10-26 11:05:50 [http-nio-8090-exec-7] INFO  c.a.f.controller.PensionesController - Solicitando estado de pensiones para usuario: 1
2025-10-26 11:05:52 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 11:05:52 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 11:05:52 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 11:05:52 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 11:05:52 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 11:05:53 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 11:05:53 [http-nio-8090-exec-8] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 11:05:53 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 11:05:53 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 11:05:53 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 11:05:56 [http-nio-8090-exec-7] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:05:56 [http-nio-8090-exec-7] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:06:00 [http-nio-8090-exec-7] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:320)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:06:00 [http-nio-8090-exec-7] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:23:27 [main] INFO  c.a.financiera.FinancieraApplication - Starting FinancieraApplication using Java 21.0.8 with PID 9500 (C:\Users\Orlando\Documents\Backend\financiera\target\classes started by Orlando in C:\Users\Orlando\Documents\Backend\financiera)
2025-10-26 11:23:27 [main] DEBUG c.a.financiera.FinancieraApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-10-26 11:23:27 [main] INFO  c.a.financiera.FinancieraApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-26 11:23:35 [main] INFO  c.a.financiera.FinancieraApplication - Started FinancieraApplication in 8.162 seconds (process running for 8.507)
2025-10-26 11:23:38 [http-nio-8090-exec-1] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:23:38 [http-nio-8090-exec-1] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:23:42 [http-nio-8090-exec-1] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:23:42 [http-nio-8090-exec-1] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 11:23:42 [http-nio-8090-exec-1] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:23:43 [http-nio-8090-exec-2] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:23:43 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:23:46 [http-nio-8090-exec-2] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:23:46 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 11:23:46 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 11:24:38 [http-nio-8090-exec-5] INFO  c.a.f.controller.PensionesController - Solicitando resumen de pensiones para usuario: 1
2025-10-26 11:24:38 [http-nio-8090-exec-5] INFO  c.a.f.service.PensionesServiceImpl - Generando resumen de pensiones para usuario: 1
2025-10-26 11:24:38 [http-nio-8090-exec-8] INFO  c.a.f.controller.PensionesController - Solicitando saldos para usuario: 1
2025-10-26 11:24:38 [http-nio-8090-exec-7] INFO  c.a.f.controller.PensionesController - Solicitando estado de pensiones para usuario: 1
2025-10-26 11:24:38 [http-nio-8090-exec-6] INFO  c.a.f.controller.PensionesController - Solicitando aportes para usuario: 1
2025-10-26 11:24:49 [http-nio-8090-exec-2] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 11:24:49 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 11:24:52 [http-nio-8090-exec-2] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 11:24:53 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 11:24:53 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 13:28:55 [http-nio-8090-exec-5] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 13:28:55 [http-nio-8090-exec-5] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 13:28:59 [http-nio-8090-exec-5] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 13:29:00 [http-nio-8090-exec-5] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 13:29:00 [http-nio-8090-exec-5] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 13:29:00 [http-nio-8090-exec-7] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 13:29:00 [http-nio-8090-exec-7] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 13:29:03 [http-nio-8090-exec-7] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 13:29:03 [http-nio-8090-exec-7] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 13:29:03 [http-nio-8090-exec-7] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 13:38:57 [http-nio-8090-exec-1] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 13:38:57 [http-nio-8090-exec-1] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 13:39:01 [http-nio-8090-exec-1] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 13:39:01 [http-nio-8090-exec-1] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 13:39:01 [http-nio-8090-exec-1] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 13:39:23 [http-nio-8090-exec-10] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 13:39:23 [http-nio-8090-exec-10] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 13:39:27 [http-nio-8090-exec-10] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 13:39:27 [http-nio-8090-exec-10] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 13:39:27 [http-nio-8090-exec-10] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 13:39:48 [http-nio-8090-exec-2] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 13:39:50 [http-nio-8090-exec-1] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 13:39:51 [http-nio-8090-exec-9] INFO  c.a.f.controller.AdminAfpController - Listando AFPs - Búsqueda: null, Estado: null
2025-10-26 13:39:51 [http-nio-8090-exec-7] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 13:40:08 [http-nio-8090-exec-1] INFO  c.a.f.controller.AdminAfpController - Listando AFPs - Búsqueda: null, Estado: null
2025-10-26 13:40:08 [http-nio-8090-exec-4] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 13:40:12 [http-nio-8090-exec-3] INFO  c.a.f.controller.AdminAfpController - Listando AFPs - Búsqueda: null, Estado: null
2025-10-26 13:40:13 [http-nio-8090-exec-5] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 13:44:39 [http-nio-8090-exec-8] INFO  c.a.f.controller.PerfilController - Solicitud de perfil para usuario ID: 1
2025-10-26 13:44:39 [http-nio-8090-exec-8] INFO  c.a.f.service.PerfilServiceImpl - Obteniendo perfil del usuario ID: 1
2025-10-26 13:44:57 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 13:44:57 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 13:44:57 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 13:44:57 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 13:44:57 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 13:44:57 [http-nio-8090-exec-7] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 13:44:57 [http-nio-8090-exec-6] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 13:44:57 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 13:44:58 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 13:44:58 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 13:48:03 [http-nio-8090-exec-9] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 15:11:50 [http-nio-8090-exec-4] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 15:13:50 [http-nio-8090-exec-2] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 15:13:50 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 15:13:52 [http-nio-8090-exec-10] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 15:13:52 [http-nio-8090-exec-7] INFO  c.a.f.controller.AdminAfpController - Listando AFPs - Búsqueda: null, Estado: null
2025-10-26 15:13:53 [http-nio-8090-exec-8] INFO  c.a.f.c.AdminUsuarioController - Listando usuarios - Búsqueda: null, Estado: null
2025-10-26 15:13:54 [http-nio-8090-exec-2] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 15:13:55 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 15:13:55 [http-nio-8090-exec-2] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 15:13:55 [http-nio-8090-exec-4] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 15:13:55 [http-nio-8090-exec-4] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 15:13:58 [http-nio-8090-exec-4] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 15:13:58 [http-nio-8090-exec-4] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 15:13:58 [http-nio-8090-exec-4] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 15:14:24 [http-nio-8090-exec-6] INFO  c.a.f.controller.PerfilController - Solicitud de perfil para usuario ID: 1
2025-10-26 15:14:24 [http-nio-8090-exec-6] INFO  c.a.f.service.PerfilServiceImpl - Obteniendo perfil del usuario ID: 1
2025-10-26 15:14:26 [http-nio-8090-exec-4] INFO  c.a.f.controller.DashboardController - Solicitud de resumen de dashboard para usuario: 1
2025-10-26 15:14:26 [http-nio-8090-exec-4] INFO  c.a.f.service.DashboardServiceImpl - Generando resumen completo de dashboard para usuario: 1
2025-10-26 15:14:30 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Solicitud de resumen financiero para usuario ID: 1
2025-10-26 15:14:30 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Solicitud de estadísticas para usuario ID: 1
2025-10-26 15:14:30 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Solicitud de saldos para usuario ID: 1
2025-10-26 15:14:30 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Solicitud de aportes para usuario ID: 1
2025-10-26 15:14:30 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Solicitud de comparativo financiero para usuario ID: 1
2025-10-26 15:14:30 [http-nio-8090-exec-4] ERROR c.a.f.service.DashboardServiceImpl - Error al obtener actividad reciente: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy148.findByUsuarioId(Unknown Source)
	at com.app.financiera.service.DashboardServiceImpl.obtenerActividadReciente(DashboardServiceImpl.java:323)
	at com.app.financiera.service.DashboardServiceImpl.obtenerResumenCompleto(DashboardServiceImpl.java:130)
	at com.app.financiera.controller.DashboardController.obtenerResumenDashboard(DashboardController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select hc1_0.id_historial,hc1_0.detalle_consulta,hc1_0.detalles_adicionales,hc1_0.fecha,hc1_0.resultado,hc1_0.tipo_consulta,hc1_0.id_usuario from historial_consultas hc1_0 where hc1_0.id_usuario=? order by hc1_0.fecha desc] [ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:269)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:95)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:160)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:148)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 56 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column hc1_0.detalles_adicionales does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:251)
	... 84 common frames omitted
2025-10-26 15:14:30 [http-nio-8090-exec-3] INFO  c.a.f.c.FinancieroController - Estadísticas generadas correctamente para usuario ID 1
2025-10-26 15:14:31 [http-nio-8090-exec-9] INFO  c.a.f.c.FinancieroController - Se obtuvieron 12 aportes para usuario ID 1
2025-10-26 15:14:31 [http-nio-8090-exec-5] INFO  c.a.f.c.FinancieroController - Resumen financiero generado correctamente para usuario ID: 1
2025-10-26 15:14:31 [http-nio-8090-exec-10] INFO  c.a.f.c.FinancieroController - Se obtuvieron 1 saldos para usuario ID 1
2025-10-26 15:14:31 [http-nio-8090-exec-4] INFO  c.a.f.service.DashboardServiceImpl - Estadísticas por año generadas: [{total=0.0, year=2023, totalAportes=0.0}, {total=9350.0, year=2024, totalAportes=9350.0}, {total=858.0, year=2025, totalAportes=858.0}]
2025-10-26 15:14:31 [http-nio-8090-exec-4] INFO  c.a.f.service.DashboardServiceImpl - Resumen de dashboard generado exitosamente para usuario: 1
2025-10-26 15:14:31 [http-nio-8090-exec-1] INFO  c.a.f.c.FinancieroController - Comparativo generado correctamente para usuario ID 1
2025-10-26 15:14:32 [http-nio-8090-exec-6] INFO  c.a.f.controller.SegurosController - Solicitud de trámites para usuario: 1
2025-10-26 15:14:32 [http-nio-8090-exec-2] INFO  c.a.f.controller.SegurosController - Solicitud de pagos pendientes para usuario: 1
2025-10-26 15:14:32 [http-nio-8090-exec-7] INFO  c.a.f.controller.SegurosController - Solicitud de resumen de seguros para usuario: 1
2025-10-26 15:14:32 [http-nio-8090-exec-8] INFO  c.a.f.controller.SegurosController - Solicitud de pólizas para usuario: 1
2025-10-26 15:14:32 [http-nio-8090-exec-7] INFO  c.a.f.service.SegurosServiceImpl - Generando resumen administrativo de seguros para usuario: 1
